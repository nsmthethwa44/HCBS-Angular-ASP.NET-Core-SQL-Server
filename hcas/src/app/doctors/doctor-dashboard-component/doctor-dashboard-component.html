<div class="overview">
    <div class="content">
        <div class="title">
            <h3>Dashboard</h3>
             <span class="date"><i class="fa-regular fa-calendar-days"></i>{{ getDate() | date: 'MMM d, y, h:m a' }}</span>
        </div>
    </div>

    <app-doctor-stats-component></app-doctor-stats-component>

        <div class="content-box">

            <div class="left">
                <div class="box">
                    <h3>Recent Appointments <a  routerLink="/doctor/appointments" class="view">View All</a></h3>

                    <div class="table-container">
                        <div class="table-content">
                             @if(appointments && appointments.length > 0){
                              <table>
                                <thead>
                                    <tr>
                                        <th>Photo</th>
                                        <th>Patient</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Gender</th>
                                        <th>Status</th>
                                        <th>Phone</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let appointment of appointments">
                                        <td><img src="assets\img\male_user_40px.png" alt="Patient" class="image"></td>
                                        <td>{{ appointment.patientName }}</td>
                                        <td>{{ appointment.appointmentDate | date: 'MMM d, y' }}</td>
                                        <td>{{ appointment.appointmentDate | date: 'h:mm a' }}</td>
                                          <td class="null">NULL</td>
                                        <td>
                                            <span class="status" [ngClass]="getStatusClass(appointment.status)">
                                            {{ getStatusText(appointment.status) }}
                                            </span>
                                        </td>
                                          <td class="null">NULL</td>
                                        <td>
                                             <div class="buttons">
                                                <i class="fa-solid fa-eye"></i>
                                                <i
                                                    *ngIf="appointment.status === 0"
                                                    class="fa-solid  fa-circle-check"
                                                    (click)="getApproveAppointment(appointment.id)"
                                                ></i>
                                                <span *ngIf="appointment.status !== 0"><i class="fa-solid fa-minus"></i></span>
                                                <i class="fa-solid fa-trash-can"></i>
                                                </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                             }@else {
                                 <p>No appointments booked.</p>
                             }
                         
                        </div>
                    </div>
                </div>
 
            </div>

            <div class="right">
                 <app-panel-list-doctors></app-panel-list-doctors>
            </div>

        </div>
</div>
